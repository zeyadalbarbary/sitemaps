<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>خرائط الموقع - storebooks.shop</title>
<style>
  body { font-family: 'Tajawal', sans-serif; background-color: #ffffff; color: #333; text-align: center; padding: 30px; }
  h1 { color: #ff7a26; }
  ul { list-style: none; padding: 0; max-width: 600px; margin: 20px auto; }
  li { margin: 10px 0; background: #f9f9f9; border: 1px solid #ddd; border-radius: 10px; padding: 12px; transition: 0.3s; }
  li:hover { background: #ff7a26; color: #fff; }
  a { text-decoration: none; color: inherit; display: block; }
  footer { margin-top: 30px; font-size: 14px; color: #777; }
</style>
</head>
<body>
<h1>📌 خرائط الموقع - storebooks.shop</h1>
<ul id="sitemapList">
  <li>جاري تحميل ملفات Sitemap...</li>
</ul>

<script>
// رابط المجلد الحالي
const folderUrl = "./";

// جلب ملفات المجلد (يفترض أن السيرفر يدعم Directory Listing)
fetch(folderUrl)
  .then(response => response.text())
  .then(data => {
    const parser = new DOMParser();
    const doc = parser.parseFromString(data, "text/html");
    const links = doc.querySelectorAll("a");
    const list = document.getElementById("sitemapList");
    list.innerHTML = ""; // تفريغ النص المؤقت
    let found = false;

    links.forEach(link => {
      const href = link.getAttribute("href");
      if(href && href.endsWith(".xml")) {
        const li = document.createElement("li");
        const a = document.createElement("a");
        a.href = href;
        a.textContent = href;
        a.target = "_blank";
        li.appendChild(a);
        list.appendChild(li);
        found = true;
      }
    });

    if(!found) {
      list.innerHTML = "<li>⚠️ لا توجد ملفات Sitemap حالياً.</li>";
    }
  })
  .catch(err => {
    document.getElementById("sitemapList").innerHTML = "<li>⚠️ حدث خطأ في جلب الملفات.</li>";
    console.error(err);
  });
</script>

<footer>
جميع الحقوق محفوظة © 2025 <a href="https://storebooks.shop" target="_blank">storebooks.shop</a>
</footer>
</body>
</html>
